!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t["@thisisgrow/circlepack"]={})}(this,function(t){"use strict";var i=require("three"),s=function(){function t(t){void 0===t&&(t={}),this.tightness=.5,this.active=!0,this.points=[],this.center=t.center,this.volume=0,this.updateCallback=t.onUpdate||null,this.mouse=new i.Vector2(2*window.innerHeight,2*window.innerHeight),this.mouseRadius=100,this.mouseInteractive=!0,this._tmpPointA=new i.Vector2,this._tmpPointB=new i.Vector2,this._tmpVec=new i.Vector2}var s=t.prototype;return s.calculateVolume=function(){this.volume=0;for(var t=0,i=this.points.length;t<i;t+=1)this.volume+=this.points[t].radius},s.update=function(){if(this.active){for(var t,i,s,e=this.points.length,o=0;o<e;o+=1){for(var n=0;n<e;n+=1)n!==o&&(t=this.points[o].position.distanceToSquared(this.points[n].position))<(i=(this.points[o].radius+this.points[n].radius)/3)*i&&(this._tmpVec.subVectors(this.points[o].position,this.points[n].position).normalize(),s=i-Math.sqrt(t),this._tmpVec.multiplyScalar(s/3),this.points[o].velocity.add(this._tmpVec),this.points[n].velocity.sub(this._tmpVec));this.points[o].update()}this.updateCallback&&this.updateCallback.call()}},t}(),e=require("three"),o=function(){function t(t){void 0===t&&(t={}),this.position=new e.Vector2(t.x,t.y),this.velocity=new e.Vector2,this.radius=t.radius,this.points=t.pointsArray,this.manager=t.manager,this.index=t.index,this._tmpVec=new e.Vector2,this.points[this.index]=this.position.x,this.points[this.index+1]=this.position.y}return t.prototype.update=function(){var t=this.position.distanceTo(this.manager.center);(this._tmpVec.subVectors(this.manager.center,this.position).multiplyScalar(t/1e8),t>this.manager.volume/200*Math.max(3.5,80-100*this.manager.tightness)&&this._tmpVec.multiplyScalar(1e3),this.velocity.add(this._tmpVec),this.manager.mouseInteractive)&&(this.manager.mouse.distanceTo(this.position)<this.manager.mouseRadius&&(this._tmpVec.subVectors(this.position,this.manager.mouse).normalize(),this.velocity.add(this._tmpVec)));this.velocity.multiplyScalar(.9),this.position.add(this.velocity),this.points[this.index]=this.position.x,this.points[this.index+1]=this.position.y},t}();t.CirclePackManager=s,t.CirclePackPoint=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=circlepack.umd.min.js.map

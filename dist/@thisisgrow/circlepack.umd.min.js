!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t["@thisisgrow/circlepack"]={})}(this,function(t){"use strict";var i=function(){function t(t,i){this.x=t||0,this.y=i||0}var i=t.prototype;return i.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.copy=function(t){return this.x=t.x,this.y=t.y,this},i.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},i.distanceToSquared=function(t){var i=this.x-t.x,s=this.y-t.y;return i*i+s*s},i.divideScalar=function(t){return this.x/=t,this.y/=t,this},i.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},i.normalize=function(){return this.divideScalar(this.length()||1)},i.set=function(t,i){this.x=t,this.y=i},i.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.subVectors=function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},t}(),s=function(){function t(t){void 0===t&&(t={}),this.position=new i(t.x,t.y),this.velocity=new i,this.radius=t.radius,this.manager=t.manager,this.index=2*t.index,this._tmpVec=new i,this.updateBackingArray()}var s=t.prototype;return s.update=function(){var t=this.position.distanceTo(this.manager.center);(this._tmpVec.subVectors(this.manager.center,this.position).multiplyScalar(t/1e8),t>this.manager.radius*(1-this.manager.tightness)&&this._tmpVec.multiplyScalar(500),this.velocity.add(this._tmpVec),this.manager.mouseInteractive)&&(this.manager.mouse.distanceTo(this.position)<this.manager.mouseRadius&&(this._tmpVec.subVectors(this.position,this.manager.mouse).normalize(),this.velocity.add(this._tmpVec)));this.velocity.multiplyScalar(.9),this.position.add(this.velocity),this.updateBackingArray()},s.updateBackingArray=function(){this.manager.pointsArray[this.index]=this.position.x,this.manager.pointsArray[this.index+1]=this.position.y},t}(),n=function(){function t(t){void 0===t&&(t={}),this.tightness=1,this.active=!0,this.points=[],this.pointsArray=new Float32Array(t.size||100),this.center=t.center||new i,this.area=0,this.radius=0,this.updateCallback=t.onUpdate||null,this.mouse=new i(2*window.innerHeight,2*window.innerHeight),this.mouseRadius=100,this.mouseInteractive=!0,this._tmpVec=new i}var n=t.prototype;return n.calculateArea=function(){this.area=0;for(var t=0,i=this.points.length;t<i;t+=1)this.area+=this.points[t].radius*this.points[t].radius*Math.PI;this.radius=Math.sqrt(this.area/Math.PI)},n.reset=function(t){this.points=[],this.pointsArray=new Float32Array(2*t)},n.addPoint=function(t,i,n){this.points.push(new s({x:t,y:i,radius:n,index:this.points.length,manager:this}))},n.update=function(){if(this.active){for(var t,i,s,n=this.points.length,e=0;e<n;e+=1){for(var a=0;a<n;a+=1)a!==e&&(t=this.points[e].position.distanceToSquared(this.points[a].position))<(i=this.points[e].radius+this.points[a].radius)*i&&(this._tmpVec.subVectors(this.points[e].position,this.points[a].position).normalize(),s=i-Math.sqrt(t),this._tmpVec.multiplyScalar(s/3),this.points[e].velocity.add(this._tmpVec),this.points[a].velocity.sub(this._tmpVec));this.points[e].update()}this.updateCallback&&this.updateCallback.call()}},t}();t.CirclePackManager=n,t.CirclePackPoint=s,t.Vector2=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=circlepack.umd.min.js.map
